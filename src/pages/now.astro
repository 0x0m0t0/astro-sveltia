---
export const prerender = false // update movies api

import { getCollection } from 'astro:content'

const now = await getCollection('now')

import Layout from '../layouts/Layout.astro'
import Movies from '../components/Movies.astro'
---

<Layout title="Now" class="h-full min-h-screen">
	<main class="flex h-full flex-col gap-4 px-4">
		<section>
			<h2 class="pt-2 text-stone-400">now</h2>
			<ul aria-label="now activities"></ul>
			{
				now[0].data.activities.map((a) => {
					return <li>{a.activity}</li>
				})
			}
		</section>
		<section class="flex items-center justify-between">
			<!-- Astro component cannot use client:idle; needs to be refactored with svelte -->
			<Movies />
		</section>
	</main>
</Layout>
