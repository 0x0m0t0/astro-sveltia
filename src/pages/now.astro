---
export const prerender = false // update movies api

import { getCollection } from 'astro:content'

const now = await getCollection('now')

import Layout from '../layouts/Layout.astro'
import Movies from '../components/Movies.astro'
---

<Layout title="Now" class="">
	<main class="flex h-full flex-col items-center gap-4 px-0 md:px-4">
		<section class="w-80">
			<h2 class="bg-dark/10 my-4 w-full rounded-md p-2 text-center">Now</h2>
			<ul aria-label="now activities" class="now">
				{
					now[0].data.activities.map((a, i) => {
						return <li>{a.activity}</li>
					})
				}
			</ul>
		</section>
		<section class="flex w-80 items-center justify-between">
			<!-- Astro component cannot use client:idle; needs to be refactored with svelte -->
			<Movies />
		</section>
	</main>
</Layout>

<style>
	ul.now,
	li {
		list-style-type: circle;
		list-style: circle;
		list-style-position: inside;
	}
	li {
		padding-bottom: 0.25rem;
	}
</style>
